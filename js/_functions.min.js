let a={getErrors(e){let s=0,t=e.querySelectorAll("[required]");return t.length&&t.forEach(l=>{(l.offsetParent!==null||l.tagName==="SELECT")&&!l.disabled&&(s+=this.validateInput(l))}),s},validateInput(e){let s=0;return e.type==="email"?(e.value=e.value.replace(" ",""),this.emailTest(e)?(this.addError(e),this.removeSuccess(e),s++):(this.removeError(e),this.addSuccess(e))):e.type==="checkbox"&&!e.checked?(this.addError(e),this.removeSuccess(e),s++):e.value.trim()?(this.removeError(e),this.addSuccess(e)):(this.addError(e),this.removeSuccess(e),s++),s},addError(e){e.classList.add("--form-error"),e.parentElement.classList.add("--form-error");let s=e.parentElement.querySelector("[data-fls-form-error]");s&&e.parentElement.removeChild(s),e.dataset.flsFormErrtext&&e.parentElement.insertAdjacentHTML("beforeend",`<div data-fls-form-error>${e.dataset.flsFormErrtext}</div>`)},removeError(e){e.classList.remove("--form-error"),e.parentElement.classList.remove("--form-error"),e.parentElement.querySelector("[data-fls-form-error]")&&e.parentElement.removeChild(e.parentElement.querySelector("[data-fls-form-error]"))},addSuccess(e){e.classList.add("--form-success"),e.parentElement.classList.add("--form-success")},removeSuccess(e){e.classList.remove("--form-success"),e.parentElement.classList.remove("--form-success")},formClean(e){e.reset(),setTimeout(()=>{let s=e.querySelectorAll("input,textarea");for(let l=0;l<s.length;l++){const r=s[l];r.parentElement.classList.remove("--form-focus"),r.classList.remove("--form-focus"),a.removeError(r)}let t=e.querySelectorAll('input[type="checkbox"]');if(t.length&&t.forEach(l=>{l.checked=!1}),window.flsSelect){let l=e.querySelectorAll("select[data-fls-select]");l.length&&l.forEach(r=>{window.flsSelect.selectBuild(r)})}},0)},emailTest(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}};export{a as f};
