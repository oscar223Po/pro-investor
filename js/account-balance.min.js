import"./app.min.js";import{F as A,d as v,h as L,f as u}from"./functions.min.js";import"./aside.min.js";function b(){const r=document.querySelectorAll("[data-fls-spollers]");if(r.length>0){let i=function(s,t=!1){s.forEach(e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("--spoller-init"),p(e)):(e.classList.remove("--spoller-init"),p(e,!1))})},p=function(s,t=!0){let e=s.querySelectorAll("details");e.length&&e.forEach(l=>{let o=l.querySelector("summary");t?(o.removeAttribute("tabindex"),l.hasAttribute("data-fls-spollers-open")?(o.classList.add("--spoller-active"),l.open=!0):(l.open=!1,o.nextElementSibling.hidden=!0)):(o.setAttribute("tabindex","-1"),o.classList.remove("--spoller-active"),l.open=!0,o.nextElementSibling.hidden=!1)})},h=function(s){const t=s.target;if(t.closest("summary")&&t.closest("[data-fls-spollers]")&&(s.preventDefault(),t.closest("[data-fls-spollers]").classList.contains("--spoller-init"))){const e=t.closest("summary"),l=e.closest("details"),o=e.closest("[data-fls-spollers]"),c=o.hasAttribute("data-fls-spollers-one"),a=l.hasAttribute("data-fls-spollers-scroll"),f=o.dataset.flsSpollersSpeed?parseInt(o.dataset.flsSpollersSpeed):500;if(!o.querySelectorAll(".--slide").length&&(c&&!l.open&&m(o),l.open?setTimeout(()=>{l.open=!1},f):l.open=!0,e.classList.toggle("--spoller-active"),L(e.nextElementSibling,f),a&&e.classList.contains("--spoller-active"))){const S=l.dataset.flsSpollersScroll,g=+S?+S:0,y=l.hasAttribute("data-fls-spollers-scroll-noheader")?document.querySelector(".header").offsetHeight:0;window.scrollTo({top:l.offsetTop-(g+y),behavior:"smooth"})}}if(!t.closest("[data-fls-spollers]")){const e=document.querySelectorAll("[data-fls-spollers-close]");e.length&&e.forEach(l=>{const o=l.closest("[data-fls-spollers]"),c=l.parentNode;if(o.classList.contains("--spoller-init")){const a=o.dataset.flsSpollersSpeed?parseInt(o.dataset.flsSpollersSpeed):500;l.classList.remove("--spoller-active"),u(l.nextElementSibling,a),setTimeout(()=>{c.open=!1},a)}})}},m=function(s){const t=s.querySelector("details[open]");if(t&&!s.querySelectorAll(".--slide").length){const e=t.querySelector("summary"),l=s.dataset.flsSpollersSpeed?parseInt(s.dataset.flsSpollersSpeed):500;e.classList.remove("--spoller-active"),u(e.nextElementSibling,l),setTimeout(()=>{t.open=!1},l)}};A("_FLS_SPOLLERS_START",r.length),document.addEventListener("click",h);const d=Array.from(r).filter(function(s,t,e){return!s.dataset.flsSpollers.split(",")[0]});d.length&&i(d);let n=v(r,"flsSpollers");n&&n.length&&n.forEach(s=>{s.matchMedia.addEventListener("change",function(){i(s.itemsArray,s.matchMedia)}),i(s.itemsArray,s.matchMedia)})}}window.addEventListener("load",b);
